class t{constructor(t,s){this.type=t,this.value=s,this.children=[]}}const s=new class{constructor(t){this.input=t,this.position=0,this.tokens=[]}tokenize(){for(;this.position<this.input.length;){let t=this.input[this.position];if(/\s/.test(t)){this.position++;continue}switch(t){case";":this._addToken("SEMICOLON",t);break;case"+":this._addToken("PLUS",t);break;default:if(/[a-zA-Z]/.test(t))this.tokens.push(this._readIdentifier());else if(/\d/.test(t))this.tokens.push(this._readNumber());else throw Error(`Unexpected character: ${t}`)}}return this.tokens}_addToken(t,s){this.tokens.push({type:t,value:s}),this.position++}_readIdentifier(){let t=this.position;for(;/[a-zA-Z]/.test(this.input[this.position]);)this.position++;return{type:"IDENTIFIER",value:this.input.slice(t,this.position)}}_readNumber(){let t=this.position;for(;/\d/.test(this.input[this.position]);)this.position++;return{type:"NUMBER",value:this.input.slice(t,this.position)}}}("yo a = 5; yo b = a + 10;").tokenize(),i=new class{constructor(t){this.tokens=t,this.position=0}parse(){let s=new t("Program",null);for(;this.position<this.tokens.length;)s.children.push(this._parseStatement());return s}_parseStatement(){let t=this.tokens[this.position];if("IDENTIFIER"===t.type)return this._parseExpression();throw Error(`Unexpected token: ${t.type}`)}_parseExpression(){let s=new t("Expression",this.tokens[this.position++].value);return this.tokens[this.position]&&"PLUS"===this.tokens[this.position].type&&(this.position++,s.children.push(this._parseExpression())),s}}(s).parse();new class{constructor(t){this.ast=t}analyze(){this._checkNode(this.ast)}_checkNode(t){if("Program"===t.type)t.children.forEach(t=>this._checkNode(t));else if("Expression"===t.type){if(!this._isDefined(t.value))throw Error(`Undefined identifier: ${t.value}`);t.children.forEach(t=>this._checkNode(t))}}_isDefined(t){return!0}}(i).analyze();
//# sourceMappingURL=index.404ef891.js.map
